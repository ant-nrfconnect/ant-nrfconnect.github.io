<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ANT: ANT+ Bicycle Power Receiver &mdash; ANT for nRF Connect SDK  documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../../../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="ANT: ANT+ Bicycle Power Transmitter" href="../bpwr_tx/README.html" />
    <link rel="prev" title="ANT: Multi Channel Encrypted TX" href="../../../ant_encrypted_tx/README.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../../index.html" class="icon icon-home"> ANT for nRF Connect SDK
            <img src="../../../../_static/this-is-ant.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2.0.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../doc/getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../doc/integration_notes.html">Integration notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../doc/release_notes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../doc/compatibility.html">Compatibility</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../doc/samples.html">Samples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../ant_advanced_burst/README.html">ANT: Advanced Burst</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ant_bgnd_scan/README.html">ANT: Background Scanning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ant_broadcast_rx/README.html">ANT: Broadcast RX</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ant_broadcast_tx/README.html">ANT: Broadcast TX</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ant_encrypted_rx/README.html">ANT: Multi Channel Encrypted RX</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ant_encrypted_tx/README.html">ANT: Multi Channel Encrypted TX</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">ANT: ANT+ Bicycle Power Receiver</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#channel-configuration">Channel configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#building-and-running">Building and running</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ant-network-key">ANT+ Network Key</a></li>
<li class="toctree-l4"><a class="reference internal" href="#testing">Testing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#testing-the-bpwr-examples-with-the-ant-simulator-tools">Testing the BPWR examples with the ANT+ Simulator tools</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../bpwr_tx/README.html">ANT: ANT+ Bicycle Power Transmitter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ant_bsc/bsc_rx/README.html">ANT: ANT+ Bicycle Speed and Cadence Receiver</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ant_bsc/bsc_tx/README.html">ANT: ANT+ Bicycle Speed and Cadence Transmitter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ant_hrm/hrm_rx/README.html">ANT: ANT+ Heart Rate Monitor Receiver</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ant_hrm/hrm_tx/README.html">ANT: ANT+ Heart Rate Monitor Transmitter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ant_rpc/README.html">ANT RPC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ble_ant_app_hrm/README.html">ANT and Bluetooth® LE Heart Rate Monitor Relay Application</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../doc/api.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../doc/kconfig/index.html">Configuration Options</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">ANT for nRF Connect SDK</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../../../../doc/samples.html">Samples</a></li>
      <li class="breadcrumb-item active">ANT: ANT+ Bicycle Power Receiver</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/samples/ant_plus/ant_bpwr/bpwr_rx/README.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="ant-ant-bicycle-power-receiver">
<span id="bpwr-rx"></span><h1>ANT: ANT+ Bicycle Power Receiver<a class="headerlink" href="#ant-ant-bicycle-power-receiver" title="Permalink to this headline"></a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#overview" id="id1">Overview</a></p>
<ul>
<li><p><a class="reference internal" href="#channel-configuration" id="id2">Channel configuration</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#requirements" id="id3">Requirements</a></p></li>
<li><p><a class="reference internal" href="#building-and-running" id="id4">Building and running</a></p>
<ul>
<li><p><a class="reference internal" href="#ant-network-key" id="id5">ANT+ Network Key</a></p></li>
<li><p><a class="reference internal" href="#testing" id="id6">Testing</a></p></li>
<li><p><a class="reference internal" href="#testing-the-bpwr-examples-with-the-ant-simulator-tools" id="id7">Testing the BPWR examples with the ANT+ Simulator tools</a></p></li>
</ul>
</li>
</ul>
</div>
<p>The Bicycle Power Receiver sample shows the usage of the ANT+ Bicycle Power profile.</p>
<section id="overview">
<h2><a class="toc-backref" href="#id1">Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline"></a></h2>
<p>This sample simulates a Bicycle Power Receiver. The Receiver application connects to the nearest Bicycle Power Sensor in range and prints out incoming page data. The actual channel state is indicated by the ANT channel state indicator.</p>
<p>On dual core, this sample uses sysbuild to add a network core image to the build by defining the ‘’NRF_DEFAULT_ANT_ONLY’’ with a default value of ‘’y’’ in <strong>Kconfig.sysbuild</strong>.</p>
<section id="channel-configuration">
<h3><a class="toc-backref" href="#id2">Channel configuration</a><a class="headerlink" href="#channel-configuration" title="Permalink to this headline"></a></h3>
<p>This example uses the default channel configuration:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 35%" />
<col style="width: 31%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Transmitter</p></th>
<th class="head"><p>Receiver</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Channel type</p></td>
<td><p>Master (0x10)</p></td>
<td><p>Slave (0x00)</p></td>
</tr>
<tr class="row-odd"><td><p>Network key</p></td>
<td><p>ANT+</p></td>
<td><p>ANT+</p></td>
</tr>
<tr class="row-even"><td><p>RF channel</p></td>
<td><p>57 (2457 MHz)</p></td>
<td><p>57 (2457 MHz)</p></td>
</tr>
<tr class="row-odd"><td><p>Device number</p></td>
<td><p>0x31 (49)</p></td>
<td><p>0x31 (49)</p></td>
</tr>
<tr class="row-even"><td><p>Device type</p></td>
<td><p>0x0B (11)</p></td>
<td><p>0x0B (11)</p></td>
</tr>
<tr class="row-odd"><td><p>Transmission type</p></td>
<td><p>0x05</p></td>
<td><p>0x05</p></td>
</tr>
<tr class="row-even"><td><p>Channel period</p></td>
<td><p>8182 (4.005 Hz)</p></td>
<td><p>8182 (4.005 Hz)</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="requirements">
<h2><a class="toc-backref" href="#id3">Requirements</a><a class="headerlink" href="#requirements" title="Permalink to this headline"></a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 27%" />
<col style="width: 14%" />
<col style="width: 21%" />
<col style="width: 38%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Hardware platforms</p></td>
<td><p>PCA</p></td>
<td><p>Board name</p></td>
<td><p>Board target</p></td>
</tr>
<tr class="row-even"><td><p>nRF52 DK</p></td>
<td><p>PCA10040</p></td>
<td><p>nrf52dk</p></td>
<td><p>nrf52dk/nrf52832</p></td>
</tr>
<tr class="row-odd"><td><p>nRF52840 DK</p></td>
<td><p>PCA10056</p></td>
<td><p>nrf52840dk</p></td>
<td><p>nrf52840dk/nrf52840</p></td>
</tr>
<tr class="row-even"><td><p>nRF5340 DK</p></td>
<td><p>PCA10095</p></td>
<td><p>nrf5340dk</p></td>
<td><p>nrf5340dk/nrf5340/cpuapp</p></td>
</tr>
<tr class="row-odd"><td><p>nRF54L15 DK</p></td>
<td><p>PCA10156</p></td>
<td><p>nrf54l15dk</p></td>
<td><p>nrf54l15dk/nrf54l15/cpuapp</p></td>
</tr>
</tbody>
</table>
</section>
<section id="building-and-running">
<h2><a class="toc-backref" href="#id4">Building and running</a><a class="headerlink" href="#building-and-running" title="Permalink to this headline"></a></h2>
<p>This sample can be found under ant/samples/ant_plus/ant_bpwr/bpwr_rx in the nRF Connect SDK folder structure.</p>
<p>The simple user interface consists of Button 1, which allows the user to start a manual zero-offset calibration procedure.</p>
<section id="ant-network-key">
<h3><a class="toc-backref" href="#id5">ANT+ Network Key</a><a class="headerlink" href="#ant-network-key" title="Permalink to this headline"></a></h3>
<p>This sample selects <code class="docutils literal notranslate"><span class="pre">CONFIG_ANT_KEY_MANAGER</span></code> to provide access to ant_plus_key_set() (See <a class="reference internal" href="../../../../doc/lib/key_manager.html#ant-key-manager"><span class="std std-ref">ANT Key Manager Library</span></a>). This library function configures the pre-defined ANT+ Network Key for ANT+ devices. Note that network keys, transmission type, device type IDs and RF channels are assigned and regulated to maintain
network integrity, and interoperability, except for the default public network.</p>
<p>For more information on Network Keys, visit <a class="reference external" href="https://www.thisisant.com/developer/ant-plus/ant-plus-basics/network-keys">https://www.thisisant.com/developer/ant-plus/ant-plus-basics/network-keys</a>.</p>
</section>
<section id="testing">
<h3><a class="toc-backref" href="#id6">Testing</a><a class="headerlink" href="#testing" title="Permalink to this headline"></a></h3>
<p>You can test the Bicycle Power Receiver by performing the following steps:</p>
<ol class="arabic">
<li><p>Compile and program the Bicycle Power Receiver.</p></li>
<li><p>Compile and program the Bicycle Power Transmitter to another supported board to act as a peer ANT device. Alternatively, use SimulANT+ as described below.</p></li>
<li><p>On the nRF DK side, connect to the virtual COM port to view the ANT+ BPWR pages received. Below is an example of the pages received from a Power only sensor.</p>
<div class="highlight highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">00.273</span><span class="p">,</span><span class="mi">498</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">inf</span><span class="o">&gt;</span> <span class="n">bpwr_rx</span><span class="p">:</span> <span class="n">ANT</span><span class="o">+</span> <span class="n">Bicycle</span> <span class="n">Power</span> <span class="n">RX</span> <span class="n">sample</span> <span class="n">started</span><span class="o">.</span>
<span class="p">[</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">00.275</span><span class="p">,</span><span class="mi">329</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">inf</span><span class="o">&gt;</span> <span class="n">ant_bpwr</span><span class="p">:</span> <span class="n">ANT</span> <span class="n">B</span><span class="o">-</span><span class="n">PWR</span> <span class="n">channel</span> <span class="mi">0</span> <span class="n">init</span>
<span class="p">[</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">00.276</span><span class="p">,</span><span class="mi">611</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">inf</span><span class="o">&gt;</span> <span class="n">ant_bpwr</span><span class="p">:</span> <span class="n">ANT</span> <span class="n">B</span><span class="o">-</span><span class="n">PWR</span> <span class="mi">0</span> <span class="nb">open</span>
<span class="p">[</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">00.366</span><span class="p">,</span><span class="mi">912</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">inf</span><span class="o">&gt;</span> <span class="n">ant_bpwr</span><span class="p">:</span> <span class="n">B</span><span class="o">-</span><span class="n">PWR</span> <span class="n">rx</span> <span class="n">Page</span><span class="p">:</span>                           <span class="mi">80</span>
<span class="p">[</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">00.366</span><span class="p">,</span><span class="mi">912</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">inf</span><span class="o">&gt;</span> <span class="n">ant_common_page_80</span><span class="p">:</span> <span class="n">hw</span> <span class="n">revision</span><span class="p">:</span>                   <span class="mi">1</span>
<span class="p">[</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">00.366</span><span class="p">,</span><span class="mi">943</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">inf</span><span class="o">&gt;</span> <span class="n">ant_common_page_80</span><span class="p">:</span> <span class="n">manufacturer</span> <span class="nb">id</span><span class="p">:</span>               <span class="mi">15</span>
<span class="p">[</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">00.366</span><span class="p">,</span><span class="mi">985</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">inf</span><span class="o">&gt;</span> <span class="n">ant_common_page_80</span><span class="p">:</span> <span class="n">model</span> <span class="n">number</span><span class="p">:</span>                  <span class="mi">33669</span>

<span class="p">[</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">00.366</span><span class="p">,</span><span class="mi">912</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">inf</span><span class="o">&gt;</span> <span class="n">ant_bpwr</span><span class="p">:</span> <span class="n">B</span><span class="o">-</span><span class="n">PWR</span> <span class="n">rx</span> <span class="n">Page</span><span class="p">:</span>                           <span class="mi">16</span>
<span class="p">[</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">00.366</span><span class="p">,</span><span class="mi">912</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">inf</span><span class="o">&gt;</span> <span class="n">ant_bpwr_page_16</span><span class="p">:</span> <span class="n">event</span> <span class="n">count</span><span class="p">:</span>                     <span class="mi">0</span>
<span class="p">[</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">00.366</span><span class="p">,</span><span class="mi">943</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">inf</span><span class="o">&gt;</span> <span class="n">ant_bpwr_page_16</span><span class="p">:</span> <span class="n">pedal</span> <span class="n">power</span><span class="p">:</span>                     <span class="mi">100</span>
<span class="p">[</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">00.366</span><span class="p">,</span><span class="mi">985</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">inf</span><span class="o">&gt;</span> <span class="n">ant_bpwr_page_16</span><span class="p">:</span> <span class="n">accumulated</span> <span class="n">power</span><span class="p">:</span>               <span class="mi">849</span> <span class="n">W</span>
<span class="p">[</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">00.366</span><span class="p">,</span><span class="mi">985</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">inf</span><span class="o">&gt;</span> <span class="n">ant_bpwr_page_16</span><span class="p">:</span> <span class="n">instantaneous</span> <span class="n">power</span><span class="p">:</span>             <span class="mi">283</span> <span class="n">W</span>
<span class="p">[</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">00.366</span><span class="p">,</span><span class="mi">985</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">inf</span><span class="o">&gt;</span> <span class="n">ant_bpwr_common_page</span><span class="p">:</span> <span class="n">instantaneous</span> <span class="n">cadence</span><span class="p">:</span>       <span class="mi">60</span> <span class="n">rpm</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="testing-the-bpwr-examples-with-the-ant-simulator-tools">
<h3><a class="toc-backref" href="#id7">Testing the BPWR examples with the ANT+ Simulator tools</a><a class="headerlink" href="#testing-the-bpwr-examples-with-the-ant-simulator-tools" title="Permalink to this headline"></a></h3>
<p>You can use the SimulANT+ Bicycle Power Sensor Simulator to test the BPWR Receiver. Make sure the Device Number matches the Channel Configuration above (0x31). See the documentation of the ANT+ Simulator tools at thisisant.com for information about how to use these tools.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../../../ant_encrypted_tx/README.html" class="btn btn-neutral float-left" title="ANT: Multi Channel Encrypted TX" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../bpwr_tx/README.html" class="btn btn-neutral float-right" title="ANT: ANT+ Bicycle Power Transmitter" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Garmin Canada Inc.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Versions</span>
      v: 2.0.0
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      <dl>
        
           <strong> 
          <dd><a href="https://www.thisisant.com/APIassets/ANTnRFConnectDoc/">2.0.0</a></dd>
           </strong> 
        
          
          <dd><a href="https://www.thisisant.com/APIassets/1.3.0_ANTnRFConnectDoc/">1.3.0</a></dd>
          
        
          
          <dd><a href="https://www.thisisant.com/APIassets/1.2.0_ANTnRFConnectDoc/">1.2.0</a></dd>
          
        
          
          <dd><a href="https://www.thisisant.com/APIassets/1.1.0_ANTnRFConnectDoc/">1.1.0</a></dd>
          
        
          
          <dd><a href="https://www.thisisant.com/APIassets/1.0.0_ANTnRFConnectDoc/">1.0.0</a></dd>
          
        
          
          <dd><a href="https://www.thisisant.com/APIassets/0.5.0_ANTnRFConnectDoc/">0.5.0</a></dd>
          
        
      </dl>
      
    </div>
  </div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>